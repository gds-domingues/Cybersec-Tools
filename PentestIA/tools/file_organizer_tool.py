# tools/file_organizer_tool.py

from crewai_tools import tool
import os

@tool
def file_organizer(output_directory: str, consolidated_file_path: str) -> str:
    """
    Organizes all files in the output directory and writes them into a consolidated file.
    """
    try:
        with open(consolidated_file_path, 'w') as consolidated_file:
            for filename in os.listdir(output_directory):
                file_path = os.path.join(output_directory, filename)
                if os.path.isfile(file_path):
                    with open(file_path, 'r') as f:
                        consolidated_file.write(f"Output from {filename}:\n")
                        consolidated_file.write(f.read())
                        consolidated_file.write("\n" + "-" * 50 + "\n")
        return f"Output successfully consolidated into {consolidated_file_path}"
    except Exception as e:
        return f"Consolidation failed: {str(e)}"
