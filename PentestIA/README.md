# Multi-Agent Pentesting Tool

This repository provides a multi-agent pentesting tool designed to automate and organize network vulnerability testing. The system is built with a set of agents that execute sequential tasks, integrating bash script execution, result organization, and analysis of potential vulnerabilities. Each agent is dedicated to specific responsibilities within the pentesting process.

## Features

- **Bash Script Execution**: Executes bash scripts on the target IP, gathering initial data.
- **Output Organization**: Collects and organizes outputs from executed bash scripts for easy analysis.
- **Vulnerability Assessment**: Analyzes organized outputs to identify and suggest potential exploit paths.

## Overview of Files

1. **main.py**: Entry point for the pentesting process. It initiates the `pentest_crew` and takes the target IP address as input.

2. **pentest_crew.py**: Configures the agents and tasks. Sets up a sequential process for:
   - Running bash scripts (`bash_runner` agent).
   - Organizing outputs (`output_analyzer` agent).
   - Performing vulnerability analysis (`pentester` agent).

3. **bash_script_executor_tool.py**: Defines the `bash_script_executor` tool, which uses the `nmap` command to scan the target IP for vulnerabilities.

4. **file_organizer_tool.py**: Contains the `file_organizer` tool, which consolidates all output files into a single document, making it easy to review scan results.

5. **chatgpt_pentester_tool.py**: Implements the `chatgpt_pentester_tool`, which queries a local language model to suggest exploitation techniques based on identified vulnerabilities.

## Usage

1. **Install Requirements**: Ensure all dependencies for `crewai` and required tools are installed.

2. **Run the Pentest**:
   ```bash
   python main.py --target_ip <TARGET_IP>
Replace `<TARGET_IP>` with the IP address you intend to scan.

## Result Analysis
After execution, review the consolidated output file for potential vulnerabilities.  
The `pentester` agent’s output will contain suggested exploit paths based on detected vulnerabilities.

## Dependencies
- **crewai**: Multi-agent framework.
- **subprocess**: Executes bash commands.
- **requests**: For communicating with the local LLM API (adjustable to other endpoints as needed).

## Agent and Task Workflow
The pentesting tool operates through a structured sequence of agents, each assigned specific tasks. Here’s a breakdown of each agent’s role and responsibilities:

### Bash Script Executor Agent (`bash_runner`):
- **Role**: Executes specified bash scripts on the target IP to gather initial information.
- **Tool**: Uses the `bash_script_executor` tool which runs `nmap` commands and captures output for analysis.
- **Task**: Runs `nmap -A` to gather system details on the target IP.

### Data Organizer Agent (`output_analyzer`):
- **Role**: Organizes and structures the outputs from the Bash Script Executor.
- **Tool**: Uses the `file_organizer` tool to consolidate all collected outputs into a single structured document.
- **Task**: Gathers all output files generated by the Bash Script Executor and consolidates them for review.

### Vulnerability Research Agent (`pentester`):
- **Role**: Analyzes the organized outputs to identify potential vulnerabilities.
- **Tool**: Uses the `chatgpt_pentester_tool` to query a local LLM model and generate potential exploit suggestions.
- **Task**: Reviews organized data to produce a vulnerability report with recommended exploitation methods.

## Customization
You can adjust the agents or add additional tools as necessary to expand the pentesting capabilities of the tool. For example:
- Modify `bash_script_executor` to include additional bash commands.
- Customize the language model endpoint in `chatgpt_pentester_tool` to integrate other machine learning models.

Each tool is modular, making it easy to substitute or expand on their capabilities based on your specific pentesting requirements.

## Future Enhancements
Potential future improvements could include:
- **Enhanced Logging**: Detailed logging for better troubleshooting and debugging.
- **Additional Agent Roles**: Expanding agents to cover areas such as OSINT gathering, brute-forcing, or further vulnerability scanning.
- **User Interface**: Development of a web-based or CLI-based UI for more interactive control.

## License
This project is open-source and distributed under the MIT License. Please review the LICENSE file for full details.
